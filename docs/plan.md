# План реализации GophKeeper

## Этап 1: Базовый клиент (локальная работа с KDBX)

- [x] Настройка структуры проекта, подключение зависимостей (`gokeepasslib`, `Bubble Tea`, `gofrs/flock`)
- [x] Реализация базового TUI-интерфейса (навигация, ввод пароля)
- [x] Открытие и чтение существующего KDBX-файла (ввод мастер-пароля)
- [x] Отображение списка записей
- [ ] Отображение деталей отдельной записи (логин, пароль, поля)
- [ ] Реализация поиска по записям
- [ ] Реализация редактирования существующих записей
- [ ] Реализация добавления новых записей
- [ ] Реализация создания нового KDBX-файла
- [ ] Реализация локальной блокировки файла (`flock`)
- [x] Написание unit-тестов для работы с KDBX (базовые функции)

## Этап 2: Серверная часть (хранение и API)

- [ ] Настройка структуры серверного проекта
- [ ] Настройка Docker Compose (PostgreSQL, MinIO)
- [ ] Реализация схемы БД PostgreSQL (пользователи, метаданные KDBX)
- [ ] Реализация регистрации (`/register`) и аутентификации (`/login`) с JWT
- [ ] Реализация API для получения метаданных (`/vault`)
- [ ] Реализация загрузки (`/vault/upload`) и скачивания (`/vault/download`) KDBX
- [ ] Интеграция с MinIO для хранения файлов
- [ ] Реализация версионирования файлов на сервере
- [ ] Реализация API для получения списка версий (`/vault/versions`)
- [ ] Реализация API для отката к версии (`/vault/rollback`)
- [ ] Написание unit-тестов для API и логики сервера

## Этап 3: Интеграция клиента и сервера (синхронизация)

- [ ] Реализация сетевого слоя в клиенте (API-клиент)
- [ ] Реализация процесса регистрации и входа на клиенте
- [ ] Реализация логики синхронизации (сравнение метаданных, загрузка/скачивание)
- [ ] Реализация базового механизма разрешения конфликтов на клиенте (Last Write Wins)
- [ ] Реализация отображения истории версий и отката на клиенте
- [ ] Написание интеграционных тестов клиент-серверного взаимодействия

## Этап 4: Завершение и документация

- [ ] Доработка TUI (улучшение UX/UI)
- [ ] Расширенное разрешение конфликтов (ручное слияние, если возможно)
- [ ] Описание API в формате Swagger
- [ ] Финализация документации (`README.md`, `ARCHITECTURE.md`)
- [ ] Сборка релизных версий клиента для разных ОС
