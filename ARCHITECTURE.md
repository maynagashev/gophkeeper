# Краткий план реализации проекта GophKeeper

## Архитектура проекта

Проект представляет собой клиент-серверную систему, предназначенную для безопасного хранения и синхронизации приватных данных пользователя.

- Клиент — приложение командной строки (CLI), совместимое с операционными системами Linux, Windows, Mac OS.
- Сервер — выполняет функцию облачного хранилища и обеспечивает синхронизацию данных между клиентами.

## Формат и хранение данных

Используется единый зашифрованный файл-база формата KDBX (аналогично KeePass).

Типы хранимых данных:
- Логины и пароли
- Данные банковских карт
- SSH-ключи и другие бинарные данные (в виде вложений)
- Произвольные текстовые данные и дополнительная метаинформация

## Регистрация и аутентификация пользователей

Процесс делится на две части:
- Серверная авторизация: пользователь регистрируется и авторизуется на сервере, используя логин и пароль. Сервер выдаёт токен авторизации.
- Клиентская расшифровка данных: на клиенте пользователь вводит отдельный мастер-пароль для локального шифрования и расшифровки файла-базы. Этот пароль никогда не передаётся на сервер.

## Безопасность

- База данных шифруется алгоритмом AES-256.
- Авторизация пользователей на сервере осуществляется через JWT-токены.
- Передача данных осуществляется через защищённый канал HTTPS/TLS.
- Сервер не имеет доступа к расшифрованным данным.

## Синхронизация и оффлайн-работа

- Клиент хранит данные локально в файле KDBX.
- При наличии подключения к сети выполняется синхронизация файла с сервером.
- Сервер хранит несколько последних версий файлов-баз для возможности восстановления данных.

## Разрешение конфликтов

- Используется подход «последнее изменение побеждает» (Last Write Wins).
- В случае обнаружения конфликтов клиент предлагает пользователю ручное разрешение или автоматически объединяет изменения, если это возможно.

## Инструменты реализации

- Библиотека для работы с KeePass-файлами: [gokeepasslib](https://github.com/tobischo/gokeepasslib)

## Тестирование и документация

- Покрытие кода unit-тестами не менее 80%.
- Исчерпывающая документация для всех экспортируемых функций и пакетов.
- Документация API взаимодействия клиента и сервера.

## Дополнительно (по возможности)

- Реализация удобного терминального интерфейса (TUI).
- Описание API в формате Swagger.
- Интеграционные тесты клиент-серверного взаимодействия.

