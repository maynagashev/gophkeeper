time=2025-04-25T22:10:49.744+07:00 level=INFO msg="Логгер инициализирован" path=logs/client.log
time=2025-04-25T22:10:49.744+07:00 level=INFO msg="Запуск GophKeeper" db_path=gophkeeper.kdbx source="по умолчанию" debug_mode=false server_url=""
time=2025-04-25T22:10:49.744+07:00 level=WARN msg="URL сервера не указан (--server-url), функции API будут недоступны."
time=2025-04-25T22:10:49.749+07:00 level=INFO msg="Эксклюзивная блокировка файла получена." lockPath=gophkeeper.kdbx.lock
time=2025-04-25T22:10:49.749+07:00 level=INFO msg="Файл KDBX найден, запуск стандартного TUI." path=gophkeeper.kdbx
time=2025-04-25T22:10:52.481+07:00 level=INFO msg="Блокировка файла снята." lockPath=gophkeeper.kdbx.lock
time=2025-04-25T22:10:56.681+07:00 level=INFO msg="Логгер инициализирован" path=logs/client.log
time=2025-04-26T10:36:11.495+07:00 level=INFO msg="Логгер инициализирован" path=logs/client.log
time=2025-04-28T11:33:21.256+07:00 level=INFO msg="Логгер инициализирован" path=logs/client.log
time=2025-04-28T11:33:21.256+07:00 level=INFO msg="Запуск GophKeeper" db_path=/tmp/gophkeeper_demo.kdbx source="флаг -db" debug_mode=false server_url=""
time=2025-04-28T11:33:21.257+07:00 level=WARN msg="URL сервера не указан (--server-url), функции API будут недоступны."
time=2025-04-28T11:33:21.260+07:00 level=INFO msg="Эксклюзивная блокировка файла получена." lockPath=/tmp/gophkeeper_demo.kdbx.lock
time=2025-04-28T11:33:21.260+07:00 level=INFO msg="Файл KDBX не найден, переходим к созданию нового." path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T11:33:29.057+07:00 level=INFO msg="Пароли совпадают, создаем новую базу KDBX" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T11:33:29.063+07:00 level=INFO msg="Новый файл KDBX успешно создан и сохранен" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T11:33:29.064+07:00 level=DEBUG msg="Записи, полученные из новой KDBX" count=1
time=2025-04-28T11:33:29.064+07:00 level=DEBUG msg="Элементы, подготовленные для списка" count=1
time=2025-04-28T11:33:33.013+07:00 level=INFO msg="Переход к добавлению новой записи"
time=2025-04-28T11:34:05.578+07:00 level=INFO msg="Переход к экрану ввода пути для добавления вложения"
time=2025-04-28T11:34:08.436+07:00 level=INFO msg="Отмена ввода пути вложения"
time=2025-04-28T11:34:10.448+07:00 level=INFO msg="Новая запись добавлена" title="test record"
time=2025-04-28T11:34:13.746+07:00 level=INFO msg="Начало обновления m.db перед сохранением"
time=2025-04-28T11:34:13.746+07:00 level=INFO msg="Обновление m.db завершено" updated_count=2
time=2025-04-28T11:34:13.746+07:00 level=DEBUG msg="Обновлено LastModificationTime корневой группы перед сохранением" newTime=2025-04-28T04:34:13.746Z
time=2025-04-28T11:34:13.746+07:00 level=INFO msg="Запуск сохранения KDBX" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T11:34:40.392+07:00 level=INFO msg="URL сервера обновлен" url=http://localhost:8080
time=2025-04-28T11:35:15.729+07:00 level=INFO msg="URL сервера обновлен" url=http://localhost:8443
time=2025-04-28T11:35:43.539+07:00 level=INFO msg="URL сервера обновлен" url=https://localhost:8443
time=2025-04-28T11:35:50.643+07:00 level=DEBUG msg="Установлен токен в API клиенте после успешного входа"
time=2025-04-28T11:35:50.643+07:00 level=DEBUG msg="Добавлено новое значение CustomData" key=GophKeeperServerURL
time=2025-04-28T11:35:50.643+07:00 level=DEBUG msg="Добавлено новое значение CustomData" key=GophKeeperAuthToken
time=2025-04-28T11:35:50.643+07:00 level=DEBUG msg="Обновлено LastModificationTime корневой группы" newTime=2025-04-28T04:35:50.643Z
time=2025-04-28T11:35:50.643+07:00 level=INFO msg="Auth данные успешно обновлены в KDBX (в памяти)"
time=2025-04-28T11:35:56.509+07:00 level=INFO msg="Запуск проверки предусловий для синхронизации..."
time=2025-04-28T11:35:56.509+07:00 level=INFO msg="Предусловия синхронизации выполнены."
time=2025-04-28T11:35:56.510+07:00 level=DEBUG msg="Получение метаданных локального файла" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T11:35:56.510+07:00 level=DEBUG msg="Метаданные локального файла получены (os.Stat)" modTime=2025-04-28T11:34:13.750+07:00
time=2025-04-28T11:35:56.510+07:00 level=DEBUG msg="Получено сообщение localMetadataMsg" found=true
time=2025-04-28T11:35:56.510+07:00 level=DEBUG msg="Получение метаданных с сервера" url=https://localhost:8443
time=2025-04-28T11:35:56.523+07:00 level=DEBUG msg="Метаданные с сервера получены" versionId=17 createdAt=2025-04-28T00:44:40.760Z
time=2025-04-28T11:35:56.523+07:00 level=DEBUG msg="Получено сообщение serverMetadataMsg" found=true
time=2025-04-28T11:35:56.523+07:00 level=INFO msg="Получены метаданные сервера и локального файла. Запуск сравнения..."
time=2025-04-28T11:35:56.524+07:00 level=DEBUG msg="Данные для сравнения" serverFound=true serverMetaTime=2025-04-28T00:43:16.000Z localFound=true localMetaTime=2025-04-28T11:34:13.750+07:00
time=2025-04-28T11:35:56.524+07:00 level=INFO msg="Локальная версия новее. Загрузка на сервер."
time=2025-04-28T11:35:56.525+07:00 level=INFO msg="Подготовка к загрузке: обновление m.db из TUI..."
time=2025-04-28T11:35:56.525+07:00 level=DEBUG msg="Применено изменений из UI в m.db перед загрузкой" updated_count=2
time=2025-04-28T11:35:56.525+07:00 level=INFO msg="Обновление m.db завершено."
time=2025-04-28T11:35:56.533+07:00 level=INFO msg="Запуск загрузки KDBX на сервер..." fileModTime=2025-04-28T11:34:13.750+07:00
time=2025-04-28T11:35:56.589+07:00 level=INFO msg="Загрузка KDBX на сервер успешно завершена."
time=2025-04-28T11:36:00.312+07:00 level=INFO msg="Список версий успешно загружен" count=18 current_id=18
time=2025-04-28T11:36:07.563+07:00 level=INFO msg="Успешный откат к версии" version_id=15
time=2025-04-28T11:36:07.564+07:00 level=INFO msg="Запуск скачивания KDBX с сервера..."
time=2025-04-28T11:36:07.573+07:00 level=DEBUG msg="Открытие локального файла для записи" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T11:36:07.573+07:00 level=INFO msg="Скачивание KDBX с сервера и сохранение локально завершено."
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="handleDBOpenedMsg: Начало"
time=2025-04-28T11:36:07.581+07:00 level=INFO msg="База KDBX успешно открыта" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="Проверка URL из флага" urlFromFlag=true initialURL=https://localhost:8443
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="Попытка загрузки Auth данных из CustomData" count=2
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="Найден URL сервера в CustomData" key=GophKeeperServerURL value=http://localhost:8080
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="Найден токен в CustomData" key=GophKeeperAuthToken
time=2025-04-28T11:36:07.581+07:00 level=INFO msg="URL сервера задан флагом, загружен только токен из KDBX" token_found=true
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="Установлен токен в API клиенте после загрузки/проверки KDBX" token_set=true
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="Записи, полученные из KDBX" count=2
time=2025-04-28T11:36:07.581+07:00 level=DEBUG msg="Элементы, подготовленные для списка" count=2
time=2025-04-28T11:36:07.582+07:00 level=DEBUG msg="Элементы в списке после SetItems" count=2
time=2025-04-28T11:36:07.582+07:00 level=DEBUG msg="handleDBOpenedMsg: Конец, m.db обновлен"
time=2025-04-28T11:36:39.527+07:00 level=ERROR msg="Ошибка загрузки списка версий: ошибка авторизации"
time=2025-04-28T11:36:46.407+07:00 level=ERROR msg="Ошибка отката к версии" version_id=10 error="ошибка авторизации"
time=2025-04-28T11:36:50.276+07:00 level=ERROR msg="Ошибка загрузки списка версий: ошибка авторизации"
time=2025-04-28T11:36:53.713+07:00 level=ERROR msg="Ошибка отката к версии" version_id=10 error="ошибка авторизации"
time=2025-04-28T11:37:00.978+07:00 level=DEBUG msg="Установлен токен в API клиенте после успешного входа"
time=2025-04-28T11:37:00.978+07:00 level=DEBUG msg="Обновлено значение CustomData" key=GophKeeperServerURL
time=2025-04-28T11:37:00.978+07:00 level=DEBUG msg="Обновлено значение CustomData" key=GophKeeperAuthToken
time=2025-04-28T11:37:00.978+07:00 level=DEBUG msg="Обновлено LastModificationTime корневой группы" newTime=2025-04-28T04:37:00.978Z
time=2025-04-28T11:37:00.978+07:00 level=INFO msg="Auth данные успешно обновлены в KDBX (в памяти)"
time=2025-04-28T11:37:07.572+07:00 level=INFO msg="Блокировка файла снята." lockPath=/tmp/gophkeeper_demo.kdbx.lock
time=2025-04-28T14:23:48.374+07:00 level=INFO msg="Логгер инициализирован" path=logs/client.log
time=2025-04-28T14:23:48.374+07:00 level=INFO msg="Запуск GophKeeper" db_path=/tmp/gophkeeper_demo.kdbx source="флаг -db" debug_mode=true server_url=""
time=2025-04-28T14:23:48.374+07:00 level=WARN msg="URL сервера не указан (--server-url), функции API будут недоступны."
time=2025-04-28T14:23:48.378+07:00 level=INFO msg="Эксклюзивная блокировка файла получена." lockPath=/tmp/gophkeeper_demo.kdbx.lock
time=2025-04-28T14:23:48.378+07:00 level=INFO msg="Файл KDBX не найден, переходим к созданию нового." path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T14:23:52.317+07:00 level=INFO msg="Пароли совпадают, создаем новую базу KDBX" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T14:23:52.324+07:00 level=INFO msg="Новый файл KDBX успешно создан и сохранен" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T14:23:52.324+07:00 level=DEBUG msg="Записи, полученные из новой KDBX" count=1
time=2025-04-28T14:23:52.324+07:00 level=DEBUG msg="Элементы, подготовленные для списка" count=1
time=2025-04-28T14:23:56.394+07:00 level=INFO msg="Переход к добавлению новой записи"
time=2025-04-28T14:24:14.955+07:00 level=INFO msg="Новая запись добавлена" title=test1
time=2025-04-28T14:24:17.007+07:00 level=INFO msg="Начало обновления m.db перед сохранением"
time=2025-04-28T14:24:17.007+07:00 level=INFO msg="Обновление m.db завершено" updated_count=2
time=2025-04-28T14:24:17.007+07:00 level=DEBUG msg="Обновлено LastModificationTime корневой группы перед сохранением" newTime=2025-04-28T07:24:17.007Z
time=2025-04-28T14:24:17.007+07:00 level=INFO msg="Запуск сохранения KDBX" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T14:24:49.800+07:00 level=INFO msg="URL сервера обновлен" url=https://localhost:8443
time=2025-04-28T14:25:03.647+07:00 level=DEBUG msg="Установлен токен в API клиенте после успешного входа"
time=2025-04-28T14:25:03.647+07:00 level=DEBUG msg="Добавлено новое значение CustomData" key=GophKeeperServerURL
time=2025-04-28T14:25:03.647+07:00 level=DEBUG msg="Добавлено новое значение CustomData" key=GophKeeperAuthToken
time=2025-04-28T14:25:03.647+07:00 level=DEBUG msg="Обновлено LastModificationTime корневой группы" newTime=2025-04-28T07:25:03.647Z
time=2025-04-28T14:25:03.647+07:00 level=INFO msg="Auth данные успешно обновлены в KDBX (в памяти)"
time=2025-04-28T14:25:06.034+07:00 level=INFO msg="Переход к деталям записи" title=test1
time=2025-04-28T14:25:09.039+07:00 level=INFO msg="Возврат к списку записей"
time=2025-04-28T14:25:12.179+07:00 level=INFO msg="Список версий успешно загружен" count=0 current_id=0
time=2025-04-28T14:25:19.813+07:00 level=INFO msg="Запуск проверки предусловий для синхронизации..."
time=2025-04-28T14:25:19.813+07:00 level=INFO msg="Предусловия синхронизации выполнены."
time=2025-04-28T14:25:19.816+07:00 level=DEBUG msg="Получение метаданных локального файла" path=/tmp/gophkeeper_demo.kdbx
time=2025-04-28T14:25:19.816+07:00 level=DEBUG msg="Получение метаданных с сервера" url=https://localhost:8443
time=2025-04-28T14:25:19.816+07:00 level=DEBUG msg="Метаданные локального файла получены (os.Stat)" modTime=2025-04-28T14:24:17.013+07:00
time=2025-04-28T14:25:19.816+07:00 level=DEBUG msg="Получено сообщение localMetadataMsg" found=true
time=2025-04-28T14:25:19.821+07:00 level=INFO msg="Хранилище не найдено на сервере."
time=2025-04-28T14:25:19.821+07:00 level=DEBUG msg="Получено сообщение serverMetadataMsg" found=false
time=2025-04-28T14:25:19.821+07:00 level=INFO msg="Получены метаданные сервера и локального файла. Запуск сравнения..."
time=2025-04-28T14:25:19.821+07:00 level=DEBUG msg="Данные для сравнения" serverFound=false serverMetaTime=0001-01-01T00:00:00.000Z localFound=true localMetaTime=2025-04-28T14:24:17.013+07:00
time=2025-04-28T14:25:19.821+07:00 level=INFO msg="Хранилища нет на сервере, локальное есть. Загрузка на сервер."
time=2025-04-28T14:25:19.822+07:00 level=INFO msg="Подготовка к загрузке: обновление m.db из TUI..."
time=2025-04-28T14:25:19.823+07:00 level=DEBUG msg="Применено изменений из UI в m.db перед загрузкой" updated_count=2
time=2025-04-28T14:25:19.823+07:00 level=INFO msg="Обновление m.db завершено."
time=2025-04-28T14:25:19.830+07:00 level=INFO msg="Запуск загрузки KDBX на сервер..." fileModTime=2025-04-28T14:24:17.013+07:00
time=2025-04-28T14:25:19.895+07:00 level=INFO msg="Загрузка KDBX на сервер успешно завершена."
time=2025-04-28T14:25:23.410+07:00 level=INFO msg="Список версий успешно загружен" count=1 current_id=19
time=2025-04-28T14:25:30.660+07:00 level=INFO msg="Блокировка файла снята." lockPath=/tmp/gophkeeper_demo.kdbx.lock
